(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[216],{9921:(e,t,r)=>{Promise.resolve().then(r.bind(r,4220))},6463:(e,t,r)=>{"use strict";var s=r(1169);r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},242:(e,t,r)=>{"use strict";r.d(t,{H:()=>l,a:()=>n});var s=r(7437),a=r(2265);let o=(0,a.createContext)(void 0),l=e=>{let{children:t}=e,[r,l]=(0,a.useState)(!1),[n,u]=(0,a.useState)(null),[i,d]=(0,a.useState)(null),c=()=>{let e=localStorage.getItem("token"),t=localStorage.getItem("usuarioId");l(!!e),u(e),d(t)};return(0,a.useEffect)(()=>{c();let e=()=>c();return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[]),(0,s.jsx)(o.Provider,{value:{isAuthenticated:r,token:n,usuarioId:i,login:(e,t)=>{localStorage.setItem("token",e),localStorage.setItem("usuarioId",t),u(e),d(t),l(!0)},logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("usuarioId"),u(null),d(null),l(!1)}},children:t})},n=()=>{let e=(0,a.useContext)(o);if(!e)throw Error("useAuth debe ser usado dentro de un AuthProvider");return e}},4220:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var s=r(7437),a=r(2265),o=r(6463),l=r(242);let n=()=>{let e=(0,o.useRouter)(),{login:t}=(0,l.a)(),[r,n]=(0,a.useState)(""),[u,i]=(0,a.useState)(""),[d,c]=(0,a.useState)(""),[m,g]=(0,a.useState)(""),[b,h]=(0,a.useState)(""),[x,f]=(0,a.useState)(!1),[p,v]=(0,a.useState)(!1),[w,y]=(0,a.useState)(!1),j=async()=>{if(d!==m){h("Las contrase\xf1as no coinciden");return}if(!S(d)){h("La contrase\xf1a debe tener al menos 8 caracteres, una may\xfascula y un n\xfamero.");return}try{let s=await fetch("http://localhost:8000/usuarios",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nombre:r,email:u,contraseÃ±a:d})});if(s.ok){let r=await s.json();t(r.token,String(r.id)),e.push("/")}else{let e=await s.json();Array.isArray(e.detail)?h(e.detail.map(e=>e.msg).join(", ")):h(e.detail||"Error en el registro")}}catch(e){console.error("Error al registrar:",e),h("Error de conexi\xf3n al servidor")}},S=e=>{let t=e.length>=8,r=/[A-Z]/.test(e),s=/\d/.test(e);return f(t),v(r),y(s),t&&r&&s};return(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-100 p-4",children:(0,s.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-lg w-full max-w-md sm:w-96",children:[(0,s.jsx)("h2",{className:"text-3xl font-bold text-center text-gray-800 mb-8",children:"Registro"}),b&&(0,s.jsx)("p",{className:"text-red-500 text-sm mb-4",children:b}),(0,s.jsx)("input",{type:"text",placeholder:"Usuario",value:r,onChange:e=>n(e.target.value),className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent mb-4"}),(0,s.jsx)("input",{type:"email",placeholder:"Correo Electr\xf3nico",value:u,onChange:e=>i(e.target.value),className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent mb-4"}),(0,s.jsx)("input",{type:"password",placeholder:"Contrase\xf1a",value:d,onChange:e=>{c(e.target.value),S(e.target.value)},className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent mb-4"}),(0,s.jsx)("input",{type:"password",placeholder:"Confirmar Contrase\xf1a",value:m,onChange:e=>g(e.target.value),className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent mb-6"}),(0,s.jsxs)("div",{className:"mb-6 text-gray-600",children:[(0,s.jsx)("p",{className:"text-sm",children:"La contrase\xf1a debe cumplir con los siguientes requisitos:"}),(0,s.jsxs)("ul",{className:"list-disc list-inside text-sm",children:[(0,s.jsx)("li",{className:x?"text-green-500":"text-red-500",children:"Al menos 8 caracteres"}),(0,s.jsx)("li",{className:p?"text-green-500":"text-red-500",children:"Al menos 1 may\xfascula"}),(0,s.jsx)("li",{className:w?"text-green-500":"text-red-500",children:"Al menos 1 n\xfamero"})]})]}),(0,s.jsx)("button",{onClick:j,className:"w-full py-3 bg-blue-500 text-white font-semibold rounded-md shadow-md hover:bg-blue-600 focus:outline-none focus:bg-blue-600 transition duration-200",children:"Registrarse"})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[130,215,744],()=>t(9921)),_N_E=e.O()}]);